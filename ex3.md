# No.3 計算問題

## キーポイント

|演算子|計算内容|
|-----|------|
|`+`|足し算|
|`-`|引き算|
|`*`|掛け算|
|`/`|割り算|

* 整数同士の割り算は小数点以下切り捨て

## 四則演算

Fortranプログラムでかんたんな計算をする方法を見ていきましょう｡
つぎのプログラムは上から順に「足し算」「割り算」「掛け算」「割り算」を行っています

``` fortran
program main
    implicit none

    print*, 1 + 1
    print*, 3 - 4
    print*, 2 * 3
    print*, 7 / 3
end program main
```

### 実行結果

``` text
           2
          -1
           6
           2
```

これらの記号`+`,`-`,`*`,`/`のことを**算術演算子**といいます｡
`3 - 4`が`-1`になっているとおり､負の値も計算できます｡
`7 / 3`が`2`になっていることに注意してください｡Fortranでは整数同士で割り算した場合､結果は小数点以下を切り捨てした値になります｡($7 \div 3 = 2.33... \rightarrow 2, -7 \div 3 = -2.33... \rightarrow -2$)
小数点以下を切り捨てないで計算してほしい場合､`7.0 / 3.0`のように`.0`をつけます｡倍精度実数の場合は`7.d0 / 3.d0`や､`7d0 / 3d0`のように書きます｡

## 演算子の優先順位

演算子には**優先順位**があります
例えば`1 + 2 * 3`のような式を計算する場合、先に`2 * 3`が計算された後、`1`が足され、計算結果は`7`になります。
`1 + 2 * 3 → 1 + 6 → 7`
`*`は`+`よりも優先順位が高いというわけです。
Fortranの算術演算子の優先順位は､一般的な数学の優先順位と同じです｡

|優先順位|高い|低い|
|------|---|---|
|演算子|`*`,`/`|`+`,`-`|

`( )`を使って優先順位を変えることもできます｡

``` fortran
program main
    implicit none

    print*, (1 + 2) * 3
end program main
```

### 実行結果2

``` text
9
```

`( )`の中が先に計算され、`(1 + 2) * 3 → 3 * 3`となり結果は`9`になります。

なお、`5 / 2 * 3`のように同じ優先順位の演算子が並んでいる式は、基本的に左の演算子から順に計算されます。

## 注意点

### 除算の順序

割り算/のある整数同士の計算では、切り捨てが行われるタイミングの違いで結果が異なることがあります。

例えば$3 \div 2 \times 4$を計算する場合、書き方によって2つの計算結果が考えられます。

`3 / 2 * 4 → 1 * 4 → 4`

`3 * 4 / 2 → 12 / 2 → 6`

多くの場合、割り算はできるだけ後の方で行うようにしたほうが正しい結果になります。

### ゼロ除算

0で割るとコンパイル時にエラーが発生します｡

``` fortran
program main
    implicit none

    print*, 3/0
end program
```

#### コンパイル結果

``` text
test.f90:4:13:

     print*, 3/0
             1
Error: Division by zero at (1)
```

なお、`0 / 3`のように、割られる数が0の場合は問題なく計算できることに注意してください。この結果は`0`になります。

## 問題文

Kくんは1から100までの和を求めようと思いました｡
数学の授業で習ったとおり､1から100までの和は次の式で求められます｡

$$
\frac{1}{2} \times 100 \times (100 + 1)
$$

この式の値を出力してください｡
